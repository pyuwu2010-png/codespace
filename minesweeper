import pyautogui
from PIL import Image

# Your board region (left, top, width, height)
board_region = (245, 210, 767, 409)

# Exact board dimensions
cols = 30
rows = 16

# Compute tile size
tile_width = board_region[2] // cols
tile_height = board_region[3] // rows

print("Tile size:", tile_width, "x", tile_height)

board_state = [[None for _ in range(cols)] for _ in range(rows)]

def get_tile_image(screenshot, row, col):
    left = col * tile_width
    top = row * tile_height
    right = left + tile_width
    bottom = top + tile_height
    return screenshot.crop((left, top, right, bottom))


def classify_tile(tile_img):
    tile_img = tile_img.convert("RGB")
    colors = tile_img.getcolors(tile_width * tile_height)

    if not colors:
        return None

    # Pick the most common pixel color
    _, (r, g, b) = max(colors, key=lambda x: x[0])

